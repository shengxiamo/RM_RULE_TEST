var i,DONT_ENUM="propertyIsEnumerable,isPrototypeOf,hasOwnProperty,toLocaleString,toString,valueOf,constructor".split(","),hasOwn={}.hasOwnProperty;for(i in{toString:1})DONT_ENUM=!1;function getParams(e){var t=window.location.search,t=t?t.substring(1):"",i=t.length?t.split("&"):[],n=i.length;if((n=n<1?(i=(postPrams=window.postPrams||"").split("&")).length:n)<1)return null;for(var r={},a=0;a<n;a++){var s,l=i[a].split("="),d=decodeURIComponent(l[0]),o=decodeURIComponent(l[1]);6e4<d.replace("q","")&&d.replace("q","")<7e4?(s=d.replace("q",""),s=$("div[topic="+s+"]").attr("id").replace("div","q"),l[1]=e?dealParams(s,o):o):l[1]=e?dealParams(d,o):o,/^q\d+(?:_\d+)?$/.exec(d)&&(r[d]=decodeURIComponent(l[1]))}return r}function getParid(e){if(e)return(~e.indexOf("_")?e.split("_")[0]:e).replace(/[^\d.]/g,"")}function getParamsQuestionType(e){e=getParid(e);return $("#div"+e).attr("type")}function dealParams(e,t){var i=t.split("|").join(""),n=[],r=getParamsQuestionType(e);return!isNaN(+i)||"3"!=r&&"4"!=r&&"5"!=r?t:(~t.indexOf("|")?n=t.split("|"):n.push(t),dealKeyType(e,r,n))}function dealKeyType(e,t,i){var n,r=getParid(e),a="";return 3==t&&$("#div"+r).find(".ui-controlgroup>.ui-radio").each(function(e){var t=$(this).find(".label").text();~i.indexOf(t)&&$(this).find("input").length&&(a=$(this).find("input").attr("id").replace("q"+r+"_",""))}),4==t&&(n=[],$("#div"+r).find(".ui-controlgroup>.ui-checkbox").each(function(e){var t=$(this).find(".label").text();~i.indexOf(t)&&$(this).find("input").length&&n.push($(this).find("input").attr("id").replace("q"+r+"_",""))}),a=n.join("|")),5==t&&(n=[],$("#div"+r).find(".scale-rating>ul>li>a").each(function(e){var t=$(this).attr("title");~i.indexOf(t)&&$(this).find("input").length&&(a=$(this).find("input").attr("id").replace("q"+r+"_",""))})),a||i[0]}Object.keys=Object.keys||function(e){var t,i=[];for(t in e)hasOwn.call(e,t)&&i.push(t);if(DONT_ENUM&&e)for(var n=0;t=DONT_ENUM[n++];)hasOwn.call(e,t)&&i.push(t);return i},window.zunxiangParas=null,window.zunxiangSetTotal=0;var qdataList=[],hasAddObjKey=new Object,customerpara="";function zunxiangAutoClick(e){var t=getParams(!0);if(window.hrefQueryParas=getParams(),setSojumPara(),null!=t){var i=Object.keys(t);if(window.zunxiangParas=t,0!=i.length){var n=[],r=pageHolder[cur_page].questions;null!=e&&(r=pageHolder[e].questions);for(var a=0;a<r.length;a++)n.push(r[a].id.replace("div","")),6e4<$(r[a]).attr("topic")&&$(r[a]).attr("topic")<7e4&&n.push($(r[a]).attr("topic"));for(a=0;a<i.length;a++){var s=i[a],l=s,d=(s=-1<s.indexOf("_")?s.split("_")[0]:s).replace("q","");if(50<window.zunxiangSetTotal)break;-1<n.indexOf(d)&&t.hasOwnProperty(l||s)&&(zunxiangSetDefauts(s,d,!0,l),window.zunxiangParas[l])&&!hasAddObjKey[l]&&(hasAddObjKey[l]="1",window.customerpara+="&"+l+"="+encodeURIComponent(window.hrefQueryParas[l]))}}}}function zunxiangSetDefauts(e,t,i,n){var r=window.zunxiangParas[n||e];if(r){6e4<parseInt(t)&&parseInt(t)<7e4&&(e="q"+$("div[topic="+t+"]")[0].id.replace("div",""));var a=questionsObject[t],s=a[0].attributes.type.value;if(5==s){var l="",d=($(a).find(".rate-off").each(function(e,t){if($(t).attr("val")==r){if(!i)return!0;l=$(t).attr("title")||$(t).attr("htitle"),$(t).click()}}),$(a).find(".scale-div"));l&&"hidden"!=d.css("visibility")&&d.css({visibility:"hidden",height:"0px"}).after($("<p style='font-size: 15px;'>"+l+"</p>")),i&&window.zunxiangSetTotal++}else if(3==s||4==s){for(var o=r.split("|"),p=a.find("."+(3==s?"ui-radio":"ui-checkbox")),c="1"==a.attr("peie"),u=!1,h=0;h<p.length;h++){var f=p[h],m=$(f).find("input").attr("id").split("_")[1];if(-1<o.indexOf(m)){m=$(f).find("input")[0];if(c&&"3"==s&&m.disabled&&alertNew("配额已满，无法参与！"),u=!0,m.checked||$(f).click(),!i)return;3==s?$(f).find(".jqradiowrapper").css("display","none"):4==s&&$(f).find(".jqcheckwrapper").css("display","none");var m=f.cloneNode(!0),w=(f.style.display="none",m.style.width="100%",m.className="",$(m).unbind("click"),$(m).find(".label"));w.css("cursor","default").unbind("click"),$(m).find("input").remove(),$(m).find(".jqcheckwrapper,.jqradiowrapper").remove(),f.parentNode.appendChild(m),$(".ui-controlgroup",a).css("border","none"),w[0].parentNode.style.border="none",w[0].parentNode.style.minHeight="20px",w[0].style.padding="0",w[0].style.margin="0"}f.style.cssText="visibility:hidden;min-height:0;height:0;width:0;overflow: hidden;border: none;",$(".errorMessage",a).hide(),u||$(".errorMessage",a).show().html("参数错误，未匹配到对应的选项，参数值："+o)}a[0].onclick=null,i&&window.zunxiangSetTotal++}else if(1==s||2==s){$("#"+e).attr("onclick")&&-1<$("#"+e).attr("onclick").indexOf("openCityBox")&&-1<r.indexOf("/")&&(r=r.replace(/\//g,"‐"));var d=$("#"+e).parent();d.is(".phoneCodeMess")?$("#"+e).val(r).prop("disabled",!0):($("#"+e).val(r).blur(),d.hide(),d=$("#"+e),(g=document.createElement("span")).className="iinputtext",g.innerText=r,0==$("#"+e).parent().parent().find(".iinputtext").length?$("#"+e).parent().parent()[0].appendChild(g):$("#"+e).parent().parent().find(".iinputtext").text(r),d[0].attributes.onclick&&-1<d[0].attributes.onclick.value.indexOf("openCityBox")&&($("#yz_popIframeDiv").remove(),$("#yz_popTanChu").remove()),$(".errorMessage",a).hide()),jumpAny(!0,questionsObject[t]),i&&window.zunxiangSetTotal++}else if(10==s&&1==a.attr("circulate")){console.log(r);var v=r.split(","),g=(a[0].hasSelItem=1,a.find(".cprojectWrap")),x=(g.find(".cprojectItem").removeAttr("seled hide"),a.find(".cprojectdiv")),y=new Array,b=new Array;x.children().each(function(){var e=(parseInt($(this).attr("rowindex"))+1).toString();(-1<v.indexOf(e)?($(this).attr("seled","1"),y):($(this).attr("hide","1"),b)).push($(this))}),y.sort(function(e,t){return $(e).attr("rowindex")-$(t).attr("rowindex")}),x.empty();for(var P=0;P<y.length;P++)x.append(y[P]);for(P=0;P<b.length;P++)x.append(b[P]);e=g.find(".cprojectItem").eq(0);showcpitem(e),g.find(".cprojectdate,.cprojectnav,.cfieldwrap").show(),g.find(".prevseldiv").hide()}else 9==s&&n&&(t=(d=n.split("_"))[0]+"_"+(Number(d[1])-1),$("#"+t).parent().is(".phoneCodeMess")?$("#"+t).val(r).prop("disabled",!0):$("#"+t).val(r).blur().attr("disabled","disabled").parent().css("border","none"))}}function setSojumPara(e){if(window.replaceParms){(window.pwdExt||window.emailName||window.phoneName||window.wxNickName||window.cepingName)&&(window.wxNickName&&(wxNickName=decodeURIComponent(wxNickName)),replaceParms.displayname=pwdExt||emailName||phoneName||wxNickName||cepingName),window.displayExt&&(replaceParms.displayext=decodeURIComponent(displayExt)),null!=replaceParms.thirdusername&&window.relusername&&(replaceParms.thirdusername=relusername),null!=replaceParms.realname&&window.relrealname&&(replaceParms.realname=relrealname),null!=replaceParms.relDept&&window.reldept&&(replaceParms.relDept=decodeURIComponent(reldept)),null!=replaceParms.relExt&&window.relext&&(replaceParms.relExt=decodeURIComponent(relext));var i,t=$(".cutfield",pageHolder[cur_page]),n=$(".field-label",pageHolder[cur_page]),r=document.getElementById("divDesc");for(i in r=(r=r||document.getElementById("lookVoteDetail"))||document.getElementById("vote_rule_detail_new"),replaceParms){var a="["+i+"]",s=new RegExp("\\["+i+"\\]","gm");0==cur_page&&r&&-1<r.innerHTML.indexOf(a)&&(r.innerHTML=r.innerHTML.replace(s,replaceParms[i])),0<$(".informedDesc").length&&$(".informedDesc").html($(".informedDesc").html().replace(s,replaceParms[i])),t.each(function(){-1<this.innerHTML.indexOf(a)&&(this.innerHTML=this.innerHTML.replace(s,replaceParms[i]))}),n.each(function(){if(-1<this.innerHTML.indexOf(a)&&(this.innerHTML=this.innerHTML.replace(s,replaceParms[i])),"9"!=$(this).closest(".field").attr("type"))return!0;var e=$(".textEdit .textCont",this),t=(e.unbind("click"),e.click(function(e){e.stopPropagation();var e=$(this).parent(".textEdit").attr("verify");return"城市单选"==e||"城市多选"==e||"省市区"==e||"高校"==e||"地图"==e||"日期"==e||"生日"==e||"入学时间"==e||"年月"==e||"日期与时间"==e?(e=(e=$(this).parent().prev()).hasClass("ui-input-text")?e:$(this).parent().prev().prev()).trigger("click"):$(this).css({width:24}).parent().removeClass("initStyle"),!1}),isIosSystem());e.blur(function(){t&&">"==$(this).html().split("<br")[1]&&$(this).html($(this).html().split("<br")[0]),""==$(this).text().trim()&&$(this).css({display:"inline-block",width:72}).parent(".textEdit").addClass("initStyle");var e=$(this).parent(".textEdit").prev();(e=e.hasClass("ui-input-text")?e:$(this).parent(".textEdit").prev().prev()).val($(this).text().trim()).trigger("keyup")}),e.on("keydown input",function(e){if(13==(e=e||window.event).keyCode)return!1;if(!$(this).attr("contenteditable"))return!1;""!=$(this).text().trim()&&$(this).css({display:"inline"}).parent().removeClass("initStyle"),t&&">"==$(this).html().split("<br")[1]&&$(this).html($(this).html().split("<br")[0]),""==$(this).text().trim()&&$(this).css({display:"inline-block",width:72}).parent(".textEdit").addClass("initStyle");e=$(this).parent(".textEdit").prev();(e=e.hasClass("ui-input-text")?e:$(this).parent(".textEdit").prev().prev()).val($(this).text().trim()).trigger("keyup")})})}e&&"function"==typeof e&&e()}}function hideDiv(){var e=getQueryVariable("hideq");if(e)for(var t=(e+="").split(","),i=0;i<t.length;i++)$("#div"+t[i]).css({position:"absolute",visibility:"hidden"})}$(document).ready(function(){setTimeout(function(){zunxiangAutoClick(),hideDiv()},100)});